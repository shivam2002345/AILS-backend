/*
 * Copyright (c) 2019 by Filestack.
 * Some rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
import { Filelink, ShapeType, VideoAccessMode, FitOptions, Align, ImageWatermarkPosition, SmartCropMode } from './filelink';
import { TransformSchema } from './../schema/transforms.schema';
import * as validator from '../schema/validator';
var defaultSource = '5aYkEQJSQCmYShsoCnZN';
var defaultApikey = 'DEFAULT_API_KEY';
describe('filelink', function () {
    beforeAll(function () {
        jest.spyOn(validator, 'getValidator').mockImplementation();
    });
    it('should properly instantiate Filelink', function () {
        var filelink = new Filelink(defaultSource);
        expect(filelink).toBeDefined();
        expect(filelink).toBeInstanceOf(Filelink);
    });
    it('should throw an error when handle is invalid', function () {
        var source = '*/5aYkEQJSQCmYShsoCnZN';
        expect(function () {
            var f = new Filelink(source);
        }).toThrow('Invalid filestack source provided');
    });
    it('should support workflows source', function () {
        var source = 'wf://975092d5-2eb3-460e-aca8-e7b00a0838d5/2ec47319-24c8-4ced-9ae3-10a6d450a736/1c04a766e53633f1256759f2d06a50a3';
        expect(function () {
            var f = new Filelink(source);
        }).not.toThrow();
    });
    it('should throw an error when external handle and without apikey', function () {
        var source = 'src://test123/example.jpg';
        expect(function () {
            var filelink = new Filelink(source);
        }).toThrow('External sources requires apikey to handle transforms');
    });
    it('should throw an error when handle is invalid', function () {
        var source = '*/5aYkEQJSQCmYShsoCnZN';
        expect(function () {
            var f = new Filelink(source);
        }).toThrow('Invalid filestack source provided');
    });
    it('should throw an error when external handle and without apikey', function () {
        var source = 'src://test123/example.jpg';
        expect(function () {
            var filelink = new Filelink(source);
        }).toThrow('External sources requires apikey to handle transforms');
    });
    it('should be able to convert filelink to string', function () {
        var filelink = new Filelink(defaultSource);
        var result = filelink.toString();
        expect(result).toBe('https://cdn.filestackcontent.com/5aYkEQJSQCmYShsoCnZN');
    });
    it('should allow to set validator status with toString method', function () {
        var filelink = new Filelink(defaultSource);
        filelink.setUseValidator(false);
        expect(filelink
            .resize({
            // @ts-ignore
            t: 1,
        })
            .toString()).toEqual('https://cdn.filestackcontent.com/resize=t:1/5aYkEQJSQCmYShsoCnZN');
    });
    it('should allow to set validator status with getTransformations method', function () {
        var filelink = new Filelink(defaultSource);
        filelink.setUseValidator(false);
        filelink.resize({
            // @ts-ignore
            t: 1,
        });
        expect(filelink.getTransformations()).toEqual([
            {
                name: 'resize',
                params: { t: 1 },
            },
        ]);
    });
    it('should create filelink with apikey when is provided', function () {
        var filelink = new Filelink(defaultSource, defaultApikey);
        var result = filelink.toString();
        expect(result).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to use many tasks at once and reset them', function () {
        var filelink = new Filelink(defaultSource);
        var resizeParams = {
            width: 200,
        };
        var rotateParams = {
            deg: 90,
        };
        filelink
            .resize(resizeParams)
            .rotate(rotateParams)
            .crop({
            dim: [20, 20, 250, 250],
        });
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/resize=width:200/rotate=deg:90/crop=dim:[20,20,250,250]/5aYkEQJSQCmYShsoCnZN');
        filelink.reset();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to get transformations', function () {
        var filelink = new Filelink(defaultSource);
        var resizeParams = {
            width: 200,
        };
        var rotateParams = {
            deg: 90,
        };
        filelink
            .resize(resizeParams)
            .rotate(rotateParams)
            .crop({
            dim: [20, 20, 250, 250],
        });
        var expected = [
            { name: 'resize', params: { width: 200 } },
            { name: 'rotate', params: { deg: 90 } },
            { name: 'crop', params: { dim: [20, 20, 250, 250] } },
        ];
        expect(filelink.getTransformations()).toEqual(expected);
    });
    it('should be able to getValidationSchema', function () {
        var filelink = new Filelink(defaultSource);
        var result = filelink.getValidationSchema();
        expect(result).toEqual(TransformSchema);
    });
    it('should not require apikay on filestack external url', function () {
        var filelink = new Filelink('https://cdn.filestackcontent.com/5aYkEQJSQCmYShsoCnZN');
        filelink.shadow(false).upscale();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/upscale/"https://cdn.filestackcontent.com/5aYkEQJSQCmYShsoCnZN"');
    });
    it('should be able to disable selected task', function () {
        var filelink = new Filelink(defaultSource);
        filelink.shadow(false).upscale();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/upscale/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to create filelink for many handles', function () {
        var sourceArr = ['5aYkEQJSQCmYShsoCnZN', '4aYkEQJSQCmYShsoCnZN'];
        var filelink = new Filelink(sourceArr);
        expect(filelink.toString()).toEqual('https://cdn.filestackcontent.com/[5aYkEQJSQCmYShsoCnZN,4aYkEQJSQCmYShsoCnZN]');
        filelink.setBase64(true);
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/b64://WzVhWWtFUUpTUUNtWVNoc29DblpOLDRhWWtFUUpTUUNtWVNoc29DblpOXQ==');
    });
    it('should be able to create filelink for many src handles', function () {
        var sourceArr = ['src://test123/example.jpg', 'src://test123/flug_9-trans_atlantik-400dpi.jpg'];
        var filelink = new Filelink(sourceArr, defaultApikey);
        expect(filelink.toString()).toEqual('https://cdn.filestackcontent.com/DEFAULT_API_KEY/["src://test123/example.jpg","src://test123/flug_9-trans_atlantik-400dpi.jpg"]');
    });
    it('should throw an error if task params are not valid', function () {
        var filelink = new Filelink(defaultSource);
        expect(function () {
            // @ts-ignore
            filelink.resize({ r: 2 }).toString();
        }).toThrow('Params validation error');
    });
    it('should omit transformations with empty options', function () {
        var filelink = new Filelink(defaultSource);
        filelink.upscale(false);
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/5aYkEQJSQCmYShsoCnZN');
    });
    it('should throw an error if source does not exists', function () {
        expect(function () {
            return new Filelink('');
        }).toThrow('Source not Set');
    });
    it('should be able to use custom cname', function () {
        var filelinkCname = new Filelink(defaultSource, defaultApikey);
        var cname = 'newcname.com';
        filelinkCname.setCname(cname);
        expect(filelinkCname.toString()).toBe('https://cdn.newcname.com/DEFAULT_API_KEY/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to use custom domain', function () {
        var filelinkCustomDomain = new Filelink(defaultSource, defaultApikey);
        var customDomain = 'https://customDomain.com';
        filelinkCustomDomain.setCustomDomain(customDomain);
        expect(filelinkCustomDomain.toString()).toBe('https://customDomain.com/DEFAULT_API_KEY/5aYkEQJSQCmYShsoCnZN');
    });
});
describe('Different tasks', function () {
    var filelink;
    beforeEach(function () {
        filelink = new Filelink(defaultSource, defaultApikey);
    });
    afterEach(function () {
        filelink = null;
    });
    it('should be able to create filelink when handle is base64', function () {
        filelink.upscale();
        filelink.setBase64(true);
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/b64/W3sibmFtZSI6InVwc2NhbGUifV0=/b64://NWFZa0VRSlNRQ21ZU2hzb0NuWk4=');
    });
    it('should be able to autoImage transformation', function () {
        filelink.autoImage();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/auto_image/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to add flip', function () {
        filelink.flip();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/flip/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to add flop', function () {
        filelink.flop();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/flop/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to add imagesize', function () {
        filelink.imagesize();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/imagesize/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to add no_metadata', function () {
        filelink.noMetadata();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/no_metadata/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to add pjpg', function () {
        var params = {
            quality: 50,
            metadata: false,
        };
        filelink.pjpg(params);
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/pjpg=quality:50,metadata:false/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to add smart_crop', function () {
        var params = {
            mode: SmartCropMode.auto,
            width: 1000,
            height: 1000,
        };
        filelink.smartCrop(params);
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/smart_crop=mode:auto,width:1000,height:1000/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to add watermark', function () {
        var params = {
            file: 'http://welcome-swiss.com/wp-content/uploads/2015/12/Swiss-landscape.jpg',
            size: 20,
            position: ImageWatermarkPosition.top,
        };
        filelink.watermark(params);
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/watermark=file:\"http://welcome-swiss.com/wp-content/uploads/2015/12/Swiss-landscape.jpg\",size:20,position:top/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to enhance', function () {
        filelink.enhance();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/enhance/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to redeye', function () {
        filelink.redeye();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/redeye/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to monochrome', function () {
        filelink.monochrome();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/monochrome/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to negative', function () {
        filelink.negative();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/negative/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to process tags', function () {
        filelink.tags();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/tags/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to sfw', function () {
        filelink.sfw();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/sfw/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to store', function () {
        var storeParams = {};
        filelink.store(storeParams);
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/store/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to disable cache', function () {
        filelink.cache(false);
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/cache=false/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to set cache params', function () {
        var cacheParams = {
            expiry: 666,
        };
        filelink.cache(cacheParams);
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/cache=expiry:666/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able add animation transform', function () {
        var params = {
            loop: 1,
            delay: 10,
            width: 10,
            height: 10,
            fit: FitOptions.scale,
            background: 'transparent',
            align: [Align.top, Align.center],
        };
        filelink.animate(params);
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/animate=loop:1,delay:10,width:10,height:10,fit:scale,background:transparent,align:[top,center]/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to resize', function () {
        var resizeParams = {
            width: 200,
        };
        filelink.resize(resizeParams);
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/resize=width:200/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to crop', function () {
        filelink.crop({
            dim: [20, 20, 250, 250],
        });
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/crop=dim:[20,20,250,250]/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to rotate', function () {
        var rotateParams = {
            deg: 90,
        };
        filelink.rotate(rotateParams);
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/rotate=deg:90/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to detect faces', function () {
        filelink.detectFaces({});
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/detect_faces/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to crop faces', function () {
        filelink.cropFaces({});
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/crop_faces/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to pixelate faces', function () {
        filelink.pixelateFaces({});
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/pixelate_faces/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to blur faces', function () {
        var blurFacesParams = {
            amount: 3,
            blur: 5,
            type: ShapeType.oval,
        };
        filelink.blurFaces(blurFacesParams);
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/blur_faces=amount:3,blur:5,type:oval/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to round cornerns', function () {
        var roundedCornersParams = {
            radius: 50,
            blur: 5,
        };
        filelink.roundedCorners(roundedCornersParams);
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/rounded_corners=radius:50,blur:5/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to polaroid', function () {
        var polaroidParams = {
            color: 'ff0000',
            rotate: 50,
        };
        filelink.polaroid(polaroidParams);
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/polaroid=color:ff0000,rotate:50/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to vignette', function () {
        var vignetteParams = {
            background: 'ff0000',
            amount: 5,
        };
        filelink.vignette(vignetteParams);
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/vignette=background:ff0000,amount:5/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to tornEdges', function () {
        filelink.tornEdges({});
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/torn_edges/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to shadow', function () {
        filelink.shadow();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/shadow/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to circle', function () {
        filelink.circle({});
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/circle/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to border', function () {
        filelink.border();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/border/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to vignette', function () {
        filelink.vignette({});
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/vignette/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to sharpen', function () {
        var sharpenParams = {
            amount: 5,
        };
        filelink.sharpen(sharpenParams);
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/sharpen=amount:5/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to blur', function () {
        var blurParams = {
            amount: 5,
        };
        filelink.blur(blurParams);
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/blur=amount:5/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to blackwhite', function () {
        var blackwhiteParams = {
            threshold: 50,
        };
        filelink.blackwhite(blackwhiteParams);
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/blackwhite=threshold:50/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to sepia', function () {
        filelink.sepia();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/sepia/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to pixelate', function () {
        filelink.pixelate();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/pixelate/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to oilPaint', function () {
        filelink.oilPaint();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/oil_paint/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to modulate', function () {
        filelink.modulate();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/modulate/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to partialPixelate', function () {
        filelink.partialPixelate({
            objects: [[20, 20, 50, 50]],
        });
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/partial_pixelate=objects:[[20,20,50,50]]/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to partialBlur', function () {
        filelink.partialBlur({
            amount: 5,
            objects: [[20, 20, 50, 50]],
        });
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/partial_blur=amount:5,objects:[[20,20,50,50]]/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to collage', function () {
        filelink.collage({
            files: ['http://welcome-swiss.com/wp-content/uploads/2015/12/Swiss-landscape.jpg'],
            width: 200,
            height: 200,
        });
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/collage=files:["http://welcome-swiss.com/wp-content/uploads/2015/12/Swiss-landscape.jpg"],width:200,height:200/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to upscale', function () {
        filelink.upscale();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/upscale/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to ascii', function () {
        filelink.ascii();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/ascii/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to quality', function () {
        var qualityParams = {
            value: 5,
        };
        filelink.quality(qualityParams);
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/quality=value:5/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to use security', function () {
        var securityParams = {
            policy: 'examplePolicy',
            signature: 'exampleSignature',
        };
        filelink.security(securityParams);
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/security=policy:examplePolicy,signature:exampleSignature/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able output', function () {
        var outputParams = {
            format: 'png',
        };
        filelink.output(outputParams);
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/output=format:png/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to videoConvert', function () {
        var videoConvertParams = {
            aspect_mode: VideoAccessMode.letterbox,
            upscale: true,
        };
        filelink.videoConvert(videoConvertParams);
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/video_convert=aspect_mode:letterbox,upscale:true/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to URLScreenshot', function () {
        filelink.URLScreenshot();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/urlscreenshot/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to PDFInfo', function () {
        filelink.PDFInfo();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/pdfinfo/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to PDFConvert', function () {
        filelink.PDFConvert();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/pdfconvert/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to force cache', function () {
        filelink.cache(true);
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/cache/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to add fallback transformation', function () {
        filelink.fallback({
            handle: 'http:test.com',
        });
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/fallback=handle:http:test.com/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to add zip trnasformation', function () {
        filelink.zip();
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/zip/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to add minify js transformation', function () {
        filelink.minifyJs({
            mangle: true,
            gzip: true,
        });
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/minify_js=mangle:true,gzip:true/5aYkEQJSQCmYShsoCnZN');
    });
    it('should be able to add minify css transformation', function () {
        filelink.minifyCss({
            level: 1,
            gzip: true,
        });
        expect(filelink.toString()).toBe('https://cdn.filestackcontent.com/DEFAULT_API_KEY/minify_css=level:1,gzip:true/5aYkEQJSQCmYShsoCnZN');
    });
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saWIvZmlsZWxpbmsuc3BlYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7O0dBZUc7QUFFSCxPQUFPLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxlQUFlLEVBQW1CLFVBQVUsRUFBRSxLQUFLLEVBQW1CLHNCQUFzQixFQUFtQixhQUFhLEVBQXdCLE1BQU0sWUFBWSxDQUFDO0FBQ3JNLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUNoRSxPQUFPLEtBQUssU0FBUyxNQUFNLHFCQUFxQixDQUFDO0FBRWpELElBQU0sYUFBYSxHQUFHLHNCQUFzQixDQUFDO0FBQzdDLElBQU0sYUFBYSxHQUFHLGlCQUFpQixDQUFDO0FBRXhDLFFBQVEsQ0FBQyxVQUFVLEVBQUU7SUFDbkIsU0FBUyxDQUFDO1FBQ1IsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsY0FBYyxDQUFDLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztJQUM3RCxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyxzQ0FBc0MsRUFBRTtRQUN6QyxJQUFNLFFBQVEsR0FBRyxJQUFJLFFBQVEsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUM3QyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDL0IsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUM1QyxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyw4Q0FBOEMsRUFBRTtRQUNqRCxJQUFNLE1BQU0sR0FBRyx3QkFBd0IsQ0FBQztRQUN4QyxNQUFNLENBQUM7WUFDTCxJQUFNLENBQUMsR0FBRyxJQUFJLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNqQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsbUNBQW1DLENBQUMsQ0FBQztJQUNsRCxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyxp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Q0FBQyxJQUFJLENBQUMsMkVBQTJFLENBQUMsQ0FBQztJQUNoSCxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyxnREFBZ0QsRUFBRTtRQUNuRCxRQUFRLENBQUMsUUFBUSxDQUFDO1lBQ2hCLE1BQU0sRUFBRSxJQUFJO1lBQ1osSUFBSSxFQUFFLElBQUk7U0FDWCxDQUFDLENBQUM7UUFDSCxNQUFNLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLHVHQUF1RyxDQUFDLENBQUM7SUFDNUksQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsaURBQWlELEVBQUU7UUFDcEQsUUFBUSxDQUFDLFNBQVMsQ0FBQztZQUNqQixLQUFLLEVBQUUsQ0FBQztZQUNSLElBQUksRUFBRSxJQUFJO1NBQ1gsQ0FBQyxDQUFDO1FBQ0gsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxvR0FBb0csQ0FBQyxDQUFDO0lBQ3pJLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJmaWxlIjoibGliL2ZpbGVsaW5rLnNwZWMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogQ29weXJpZ2h0IChjKSAyMDE5IGJ5IEZpbGVzdGFjay5cbiAqIFNvbWUgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEZpbGVsaW5rLCBTaGFwZVR5cGUsIFZpZGVvQWNjZXNzTW9kZSwgQW5pbWF0aW9uUGFyYW1zLCBGaXRPcHRpb25zLCBBbGlnbiwgV2F0ZXJtYXJrUGFyYW1zLCBJbWFnZVdhdGVybWFya1Bvc2l0aW9uLCBTbWFydENyb3BQYXJhbXMsIFNtYXJ0Q3JvcE1vZGUsIFByb2dyZXNzaXZlSnBnUGFyYW1zIH0gZnJvbSAnLi9maWxlbGluayc7XG5pbXBvcnQgeyBUcmFuc2Zvcm1TY2hlbWEgfSBmcm9tICcuLy4uL3NjaGVtYS90cmFuc2Zvcm1zLnNjaGVtYSc7XG5pbXBvcnQgKiBhcyB2YWxpZGF0b3IgZnJvbSAnLi4vc2NoZW1hL3ZhbGlkYXRvcic7XG5cbmNvbnN0IGRlZmF1bHRTb3VyY2UgPSAnNWFZa0VRSlNRQ21ZU2hzb0NuWk4nO1xuY29uc3QgZGVmYXVsdEFwaWtleSA9ICdERUZBVUxUX0FQSV9LRVknO1xuXG5kZXNjcmliZSgnZmlsZWxpbmsnLCAoKSA9PiB7XG4gIGJlZm9yZUFsbCgoKSA9PiB7XG4gICAgamVzdC5zcHlPbih2YWxpZGF0b3IsICdnZXRWYWxpZGF0b3InKS5tb2NrSW1wbGVtZW50YXRpb24oKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBwcm9wZXJseSBpbnN0YW50aWF0ZSBGaWxlbGluaycsICgpID0+IHtcbiAgICBjb25zdCBmaWxlbGluayA9IG5ldyBGaWxlbGluayhkZWZhdWx0U291cmNlKTtcbiAgICBleHBlY3QoZmlsZWxpbmspLnRvQmVEZWZpbmVkKCk7XG4gICAgZXhwZWN0KGZpbGVsaW5rKS50b0JlSW5zdGFuY2VPZihGaWxlbGluayk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgdGhyb3cgYW4gZXJyb3Igd2hlbiBoYW5kbGUgaXMgaW52YWxpZCcsICgpID0+IHtcbiAgICBjb25zdCBzb3VyY2UgPSAnKi81YVlrRVFKU1FDbVlTaHNvQ25aTic7XG4gICAgZXhwZWN0KCgpID0+IHtcbiAgICAgIGNvbnN0IGYgPSBuZXcgRmlsZWxpbmsoc291cmNlKTtcbiAgICB9KS50b1Rocm93KCdJbnZhbGlkIGZpbGVzdGFjayBzb3VyY2UgcHJvdmlkZWQnKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBzdXBwb3J0IHdvcmtmbG93cyBzb3VyY2UnLCAoKSA9PiB7XG4gICAgY29uc3Qgc291cmNlID0gJ3dmOi8vOTc1MDkyZDUtMmViMy00NjBlLWFjYTgtZTdiMDBhMDgzOGQ1LzJlYzQ3MzE5LTI0YzgtNGNlZC05YWUzLTEwYTZkNDUwYTczNi8xYzA0YTc2NmU1MzYzM2YxMjU2NzU5ZjJkMDZhNTBhMyc7XG4gICAgZXhwZWN0KCgpID0+IHtcbiAgICAgIGNvbnN0IGYgPSBuZXcgRmlsZWxpbmsoc291cmNlKTtcbiAgICB9KS5ub3QudG9UaHJvdygpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHRocm93IGFuIGVycm9yIHdoZW4gZXh0ZXJuYWwgaGFuZGxlIGFuZCB3aXRob3V0IGFwaWtleScsICgpID0+IHtcbiAgICBjb25zdCBzb3VyY2UgPSAnc3JjOi8vdGVzdDEyMy9leGFtcGxlLmpwZyc7XG5cbiAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgY29uc3QgZmlsZWxpbmsgPSBuZXcgRmlsZWxpbmsoc291cmNlKTtcbiAgICB9KS50b1Rocm93KCdFeHRlcm5hbCBzb3VyY2VzIHJlcXVpcmVzIGFwaWtleSB0byBoYW5kbGUgdHJhbnNmb3JtcycpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHRocm93IGFuIGVycm9yIHdoZW4gaGFuZGxlIGlzIGludmFsaWQnLCAoKSA9PiB7XG4gICAgY29uc3Qgc291cmNlID0gJyovNWFZa0VRSlNRQ21ZU2hzb0NuWk4nO1xuICAgIGV4cGVjdCgoKSA9PiB7XG4gICAgICBjb25zdCBmID0gbmV3IEZpbGVsaW5rKHNvdXJjZSk7XG4gICAgfSkudG9UaHJvdygnSW52YWxpZCBmaWxlc3RhY2sgc291cmNlIHByb3ZpZGVkJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgdGhyb3cgYW4gZXJyb3Igd2hlbiBleHRlcm5hbCBoYW5kbGUgYW5kIHdpdGhvdXQgYXBpa2V5JywgKCkgPT4ge1xuICAgIGNvbnN0IHNvdXJjZSA9ICdzcmM6Ly90ZXN0MTIzL2V4YW1wbGUuanBnJztcblxuICAgIGV4cGVjdCgoKSA9PiB7XG4gICAgICBjb25zdCBmaWxlbGluayA9IG5ldyBGaWxlbGluayhzb3VyY2UpO1xuICAgIH0pLnRvVGhyb3coJ0V4dGVybmFsIHNvdXJjZXMgcmVxdWlyZXMgYXBpa2V5IHRvIGhhbmRsZSB0cmFuc2Zvcm1zJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYmUgYWJsZSB0byBjb252ZXJ0IGZpbGVsaW5rIHRvIHN0cmluZycsICgpID0+IHtcbiAgICBjb25zdCBmaWxlbGluayA9IG5ldyBGaWxlbGluayhkZWZhdWx0U291cmNlKTtcbiAgICBjb25zdCByZXN1bHQgPSBmaWxlbGluay50b1N0cmluZygpO1xuICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoJ2h0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYWxsb3cgdG8gc2V0IHZhbGlkYXRvciBzdGF0dXMgd2l0aCB0b1N0cmluZyBtZXRob2QnLCAoKSA9PiB7XG4gICAgY29uc3QgZmlsZWxpbmsgPSBuZXcgRmlsZWxpbmsoZGVmYXVsdFNvdXJjZSk7XG4gICAgZmlsZWxpbmsuc2V0VXNlVmFsaWRhdG9yKGZhbHNlKTtcblxuICAgIGV4cGVjdChcbiAgICAgIGZpbGVsaW5rXG4gICAgICAgIC5yZXNpemUoe1xuICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICB0OiAxLFxuICAgICAgICB9KVxuICAgICAgICAudG9TdHJpbmcoKVxuICAgICkudG9FcXVhbCgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vcmVzaXplPXQ6MS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGFsbG93IHRvIHNldCB2YWxpZGF0b3Igc3RhdHVzIHdpdGggZ2V0VHJhbnNmb3JtYXRpb25zIG1ldGhvZCcsICgpID0+IHtcbiAgICBjb25zdCBmaWxlbGluayA9IG5ldyBGaWxlbGluayhkZWZhdWx0U291cmNlKTtcbiAgICBmaWxlbGluay5zZXRVc2VWYWxpZGF0b3IoZmFsc2UpO1xuICAgIGZpbGVsaW5rLnJlc2l6ZSh7XG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICB0OiAxLFxuICAgIH0pO1xuXG4gICAgZXhwZWN0KGZpbGVsaW5rLmdldFRyYW5zZm9ybWF0aW9ucygpKS50b0VxdWFsKFtcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ3Jlc2l6ZScsXG4gICAgICAgIHBhcmFtczogeyB0OiAxIH0sXG4gICAgICB9LFxuICAgIF0pO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGNyZWF0ZSBmaWxlbGluayB3aXRoIGFwaWtleSB3aGVuIGlzIHByb3ZpZGVkJywgKCkgPT4ge1xuICAgIGNvbnN0IGZpbGVsaW5rID0gbmV3IEZpbGVsaW5rKGRlZmF1bHRTb3VyY2UsIGRlZmF1bHRBcGlrZXkpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGZpbGVsaW5rLnRvU3RyaW5nKCk7XG4gICAgZXhwZWN0KHJlc3VsdCkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vREVGQVVMVF9BUElfS0VZLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYmUgYWJsZSB0byB1c2UgbWFueSB0YXNrcyBhdCBvbmNlIGFuZCByZXNldCB0aGVtJywgKCkgPT4ge1xuICAgIGNvbnN0IGZpbGVsaW5rID0gbmV3IEZpbGVsaW5rKGRlZmF1bHRTb3VyY2UpO1xuICAgIGNvbnN0IHJlc2l6ZVBhcmFtcyA9IHtcbiAgICAgIHdpZHRoOiAyMDAsXG4gICAgfTtcbiAgICBjb25zdCByb3RhdGVQYXJhbXMgPSB7XG4gICAgICBkZWc6IDkwLFxuICAgIH07XG4gICAgZmlsZWxpbmtcbiAgICAgIC5yZXNpemUocmVzaXplUGFyYW1zKVxuICAgICAgLnJvdGF0ZShyb3RhdGVQYXJhbXMpXG4gICAgICAuY3JvcCh7XG4gICAgICAgIGRpbTogWzIwLCAyMCwgMjUwLCAyNTBdLFxuICAgICAgfSk7XG4gICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tL3Jlc2l6ZT13aWR0aDoyMDAvcm90YXRlPWRlZzo5MC9jcm9wPWRpbTpbMjAsMjAsMjUwLDI1MF0vNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgICBmaWxlbGluay5yZXNldCgpO1xuICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gZ2V0IHRyYW5zZm9ybWF0aW9ucycsICgpID0+IHtcbiAgICBjb25zdCBmaWxlbGluayA9IG5ldyBGaWxlbGluayhkZWZhdWx0U291cmNlKTtcbiAgICBjb25zdCByZXNpemVQYXJhbXMgPSB7XG4gICAgICB3aWR0aDogMjAwLFxuICAgIH07XG4gICAgY29uc3Qgcm90YXRlUGFyYW1zID0ge1xuICAgICAgZGVnOiA5MCxcbiAgICB9O1xuICAgIGZpbGVsaW5rXG4gICAgICAucmVzaXplKHJlc2l6ZVBhcmFtcylcbiAgICAgIC5yb3RhdGUocm90YXRlUGFyYW1zKVxuICAgICAgLmNyb3Aoe1xuICAgICAgICBkaW06IFsyMCwgMjAsIDI1MCwgMjUwXSxcbiAgICAgIH0pO1xuICAgIGNvbnN0IGV4cGVjdGVkID0gW1xuICAgICAgeyBuYW1lOiAncmVzaXplJywgcGFyYW1zOiB7IHdpZHRoOiAyMDAgfSB9LFxuICAgICAgeyBuYW1lOiAncm90YXRlJywgcGFyYW1zOiB7IGRlZzogOTAgfSB9LFxuICAgICAgeyBuYW1lOiAnY3JvcCcsIHBhcmFtczogeyBkaW06IFsyMCwgMjAsIDI1MCwgMjUwXSB9IH0sXG4gICAgXTtcbiAgICBleHBlY3QoZmlsZWxpbmsuZ2V0VHJhbnNmb3JtYXRpb25zKCkpLnRvRXF1YWwoZXhwZWN0ZWQpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gZ2V0VmFsaWRhdGlvblNjaGVtYScsICgpID0+IHtcbiAgICBjb25zdCBmaWxlbGluayA9IG5ldyBGaWxlbGluayhkZWZhdWx0U291cmNlKTtcbiAgICBjb25zdCByZXN1bHQgPSBmaWxlbGluay5nZXRWYWxpZGF0aW9uU2NoZW1hKCk7XG4gICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChUcmFuc2Zvcm1TY2hlbWEpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIG5vdCByZXF1aXJlIGFwaWtheSBvbiBmaWxlc3RhY2sgZXh0ZXJuYWwgdXJsJywgKCkgPT4ge1xuICAgIGNvbnN0IGZpbGVsaW5rID0gbmV3IEZpbGVsaW5rKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICAgIGZpbGVsaW5rLnNoYWRvdyhmYWxzZSkudXBzY2FsZSgpO1xuICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS91cHNjYWxlL1wiaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vNWFZa0VRSlNRQ21ZU2hzb0NuWk5cIicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gZGlzYWJsZSBzZWxlY3RlZCB0YXNrJywgKCkgPT4ge1xuICAgIGNvbnN0IGZpbGVsaW5rID0gbmV3IEZpbGVsaW5rKGRlZmF1bHRTb3VyY2UpO1xuICAgIGZpbGVsaW5rLnNoYWRvdyhmYWxzZSkudXBzY2FsZSgpO1xuICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS91cHNjYWxlLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYmUgYWJsZSB0byBjcmVhdGUgZmlsZWxpbmsgZm9yIG1hbnkgaGFuZGxlcycsICgpID0+IHtcbiAgICBjb25zdCBzb3VyY2VBcnIgPSBbJzVhWWtFUUpTUUNtWVNoc29DblpOJywgJzRhWWtFUUpTUUNtWVNoc29DblpOJ107XG4gICAgY29uc3QgZmlsZWxpbmsgPSBuZXcgRmlsZWxpbmsoc291cmNlQXJyKTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9FcXVhbCgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vWzVhWWtFUUpTUUNtWVNoc29DblpOLDRhWWtFUUpTUUNtWVNoc29DblpOXScpO1xuICAgIGZpbGVsaW5rLnNldEJhc2U2NCh0cnVlKTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vYjY0Oi8vV3pWaFdXdEZVVXBUVVVOdFdWTm9jMjlEYmxwT0xEUmhXV3RGVVVwVFVVTnRXVk5vYzI5RGJscE9YUT09Jyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYmUgYWJsZSB0byBjcmVhdGUgZmlsZWxpbmsgZm9yIG1hbnkgc3JjIGhhbmRsZXMnLCAoKSA9PiB7XG4gICAgY29uc3Qgc291cmNlQXJyID0gWydzcmM6Ly90ZXN0MTIzL2V4YW1wbGUuanBnJywgJ3NyYzovL3Rlc3QxMjMvZmx1Z185LXRyYW5zX2F0bGFudGlrLTQwMGRwaS5qcGcnXTtcbiAgICBjb25zdCBmaWxlbGluayA9IG5ldyBGaWxlbGluayhzb3VyY2VBcnIsIGRlZmF1bHRBcGlrZXkpO1xuICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0VxdWFsKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS9ERUZBVUxUX0FQSV9LRVkvW1wic3JjOi8vdGVzdDEyMy9leGFtcGxlLmpwZ1wiLFwic3JjOi8vdGVzdDEyMy9mbHVnXzktdHJhbnNfYXRsYW50aWstNDAwZHBpLmpwZ1wiXScpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIHRocm93IGFuIGVycm9yIGlmIHRhc2sgcGFyYW1zIGFyZSBub3QgdmFsaWQnLCAoKSA9PiB7XG4gICAgY29uc3QgZmlsZWxpbmsgPSBuZXcgRmlsZWxpbmsoZGVmYXVsdFNvdXJjZSk7XG4gICAgZXhwZWN0KCgpID0+IHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGZpbGVsaW5rLnJlc2l6ZSh7IHI6IDIgfSkudG9TdHJpbmcoKTtcbiAgICB9KS50b1Rocm93KCdQYXJhbXMgdmFsaWRhdGlvbiBlcnJvcicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIG9taXQgdHJhbnNmb3JtYXRpb25zIHdpdGggZW1wdHkgb3B0aW9ucycsICgpID0+IHtcbiAgICBjb25zdCBmaWxlbGluayA9IG5ldyBGaWxlbGluayhkZWZhdWx0U291cmNlKTtcbiAgICBmaWxlbGluay51cHNjYWxlKGZhbHNlKTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCB0aHJvdyBhbiBlcnJvciBpZiBzb3VyY2UgZG9lcyBub3QgZXhpc3RzJywgKCkgPT4ge1xuICAgIGV4cGVjdCgoKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IEZpbGVsaW5rKCcnKTtcbiAgICB9KS50b1Rocm93KCdTb3VyY2Ugbm90IFNldCcpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gdXNlIGN1c3RvbSBjbmFtZScsICgpID0+IHtcbiAgICBjb25zdCBmaWxlbGlua0NuYW1lID0gbmV3IEZpbGVsaW5rKGRlZmF1bHRTb3VyY2UsIGRlZmF1bHRBcGlrZXkpO1xuICAgIGNvbnN0IGNuYW1lID0gJ25ld2NuYW1lLmNvbSc7XG4gICAgZmlsZWxpbmtDbmFtZS5zZXRDbmFtZShjbmFtZSk7XG4gICAgZXhwZWN0KGZpbGVsaW5rQ25hbWUudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4ubmV3Y25hbWUuY29tL0RFRkFVTFRfQVBJX0tFWS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gdXNlIGN1c3RvbSBkb21haW4nLCAoKSA9PiB7XG4gICAgY29uc3QgZmlsZWxpbmtDdXN0b21Eb21haW4gPSBuZXcgRmlsZWxpbmsoZGVmYXVsdFNvdXJjZSwgZGVmYXVsdEFwaWtleSk7XG4gICAgY29uc3QgY3VzdG9tRG9tYWluID0gJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbSc7XG4gICAgZmlsZWxpbmtDdXN0b21Eb21haW4uc2V0Q3VzdG9tRG9tYWluKGN1c3RvbURvbWFpbik7XG4gICAgZXhwZWN0KGZpbGVsaW5rQ3VzdG9tRG9tYWluLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY3VzdG9tRG9tYWluLmNvbS9ERUZBVUxUX0FQSV9LRVkvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ0RpZmZlcmVudCB0YXNrcycsICgpID0+IHtcbiAgbGV0IGZpbGVsaW5rO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGZpbGVsaW5rID0gbmV3IEZpbGVsaW5rKGRlZmF1bHRTb3VyY2UsIGRlZmF1bHRBcGlrZXkpO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGZpbGVsaW5rID0gbnVsbDtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGNyZWF0ZSBmaWxlbGluayB3aGVuIGhhbmRsZSBpcyBiYXNlNjQnLCAoKSA9PiB7XG4gICAgZmlsZWxpbmsudXBzY2FsZSgpO1xuICAgIGZpbGVsaW5rLnNldEJhc2U2NCh0cnVlKTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vREVGQVVMVF9BUElfS0VZL2I2NC9XM3NpYm1GdFpTSTZJblZ3YzJOaGJHVWlmVjA9L2I2NDovL05XRlphMFZSU2xOUlEyMVpVMmh6YjBOdVdrND0nKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGF1dG9JbWFnZSB0cmFuc2Zvcm1hdGlvbicsICgpID0+IHtcbiAgICBmaWxlbGluay5hdXRvSW1hZ2UoKTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vREVGQVVMVF9BUElfS0VZL2F1dG9faW1hZ2UvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGFkZCBmbGlwJywgKCkgPT4ge1xuICAgIGZpbGVsaW5rLmZsaXAoKTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vREVGQVVMVF9BUElfS0VZL2ZsaXAvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGFkZCBmbG9wJywgKCkgPT4ge1xuICAgIGZpbGVsaW5rLmZsb3AoKTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vREVGQVVMVF9BUElfS0VZL2Zsb3AvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGFkZCBpbWFnZXNpemUnLCAoKSA9PiB7XG4gICAgZmlsZWxpbmsuaW1hZ2VzaXplKCk7XG4gICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tL0RFRkFVTFRfQVBJX0tFWS9pbWFnZXNpemUvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGFkZCBub19tZXRhZGF0YScsICgpID0+IHtcbiAgICBmaWxlbGluay5ub01ldGFkYXRhKCk7XG4gICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tL0RFRkFVTFRfQVBJX0tFWS9ub19tZXRhZGF0YS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gYWRkIHBqcGcnLCAoKSA9PiB7XG4gICAgY29uc3QgcGFyYW1zOiBQcm9ncmVzc2l2ZUpwZ1BhcmFtcyA9IHtcbiAgICAgIHF1YWxpdHk6IDUwLFxuICAgICAgbWV0YWRhdGE6IGZhbHNlLFxuICAgIH07XG5cbiAgICBmaWxlbGluay5wanBnKHBhcmFtcyk7XG4gICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tL0RFRkFVTFRfQVBJX0tFWS9wanBnPXF1YWxpdHk6NTAsbWV0YWRhdGE6ZmFsc2UvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGFkZCBzbWFydF9jcm9wJywgKCkgPT4ge1xuICAgIGNvbnN0IHBhcmFtczogU21hcnRDcm9wUGFyYW1zID0ge1xuICAgICAgbW9kZTogU21hcnRDcm9wTW9kZS5hdXRvLFxuICAgICAgd2lkdGg6IDEwMDAsXG4gICAgICBoZWlnaHQ6IDEwMDAsXG4gICAgfTtcblxuICAgIGZpbGVsaW5rLnNtYXJ0Q3JvcChwYXJhbXMpO1xuICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS9ERUZBVUxUX0FQSV9LRVkvc21hcnRfY3JvcD1tb2RlOmF1dG8sd2lkdGg6MTAwMCxoZWlnaHQ6MTAwMC81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gYWRkIHdhdGVybWFyaycsICgpID0+IHtcbiAgICBjb25zdCBwYXJhbXM6IFdhdGVybWFya1BhcmFtcyA9IHtcbiAgICAgIGZpbGU6ICdodHRwOi8vd2VsY29tZS1zd2lzcy5jb20vd3AtY29udGVudC91cGxvYWRzLzIwMTUvMTIvU3dpc3MtbGFuZHNjYXBlLmpwZycsXG4gICAgICBzaXplOiAyMCxcbiAgICAgIHBvc2l0aW9uOiBJbWFnZVdhdGVybWFya1Bvc2l0aW9uLnRvcCxcbiAgICB9O1xuXG4gICAgZmlsZWxpbmsud2F0ZXJtYXJrKHBhcmFtcyk7XG4gICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoXG4gICAgICAnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vREVGQVVMVF9BUElfS0VZL3dhdGVybWFyaz1maWxlOlxcXCJodHRwOi8vd2VsY29tZS1zd2lzcy5jb20vd3AtY29udGVudC91cGxvYWRzLzIwMTUvMTIvU3dpc3MtbGFuZHNjYXBlLmpwZ1xcXCIsc2l6ZToyMCxwb3NpdGlvbjp0b3AvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nXG4gICAgKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGVuaGFuY2UnLCAoKSA9PiB7XG4gICAgZmlsZWxpbmsuZW5oYW5jZSgpO1xuICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS9ERUZBVUxUX0FQSV9LRVkvZW5oYW5jZS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gcmVkZXllJywgKCkgPT4ge1xuICAgIGZpbGVsaW5rLnJlZGV5ZSgpO1xuICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS9ERUZBVUxUX0FQSV9LRVkvcmVkZXllLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYmUgYWJsZSB0byBtb25vY2hyb21lJywgKCkgPT4ge1xuICAgIGZpbGVsaW5rLm1vbm9jaHJvbWUoKTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vREVGQVVMVF9BUElfS0VZL21vbm9jaHJvbWUvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIG5lZ2F0aXZlJywgKCkgPT4ge1xuICAgIGZpbGVsaW5rLm5lZ2F0aXZlKCk7XG4gICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tL0RFRkFVTFRfQVBJX0tFWS9uZWdhdGl2ZS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gcHJvY2VzcyB0YWdzJywgKCkgPT4ge1xuICAgIGZpbGVsaW5rLnRhZ3MoKTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vREVGQVVMVF9BUElfS0VZL3RhZ3MvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIHNmdycsICgpID0+IHtcbiAgICBmaWxlbGluay5zZncoKTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vREVGQVVMVF9BUElfS0VZL3Nmdy81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gc3RvcmUnLCAoKSA9PiB7XG4gICAgY29uc3Qgc3RvcmVQYXJhbXMgPSB7fTtcbiAgICBmaWxlbGluay5zdG9yZShzdG9yZVBhcmFtcyk7XG4gICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tL0RFRkFVTFRfQVBJX0tFWS9zdG9yZS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gZGlzYWJsZSBjYWNoZScsICgpID0+IHtcbiAgICBmaWxlbGluay5jYWNoZShmYWxzZSk7XG4gICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tL0RFRkFVTFRfQVBJX0tFWS9jYWNoZT1mYWxzZS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gc2V0IGNhY2hlIHBhcmFtcycsICgpID0+IHtcbiAgICBjb25zdCBjYWNoZVBhcmFtcyA9IHtcbiAgICAgIGV4cGlyeTogNjY2LFxuICAgIH07XG4gICAgZmlsZWxpbmsuY2FjaGUoY2FjaGVQYXJhbXMpO1xuICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS9ERUZBVUxUX0FQSV9LRVkvY2FjaGU9ZXhwaXJ5OjY2Ni81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgYWRkIGFuaW1hdGlvbiB0cmFuc2Zvcm0nLCAoKSA9PiB7XG4gICAgY29uc3QgcGFyYW1zOiBBbmltYXRpb25QYXJhbXMgPSB7XG4gICAgICBsb29wOiAxLFxuICAgICAgZGVsYXk6IDEwLFxuICAgICAgd2lkdGg6IDEwLFxuICAgICAgaGVpZ2h0OiAxMCxcbiAgICAgIGZpdDogRml0T3B0aW9ucy5zY2FsZSxcbiAgICAgIGJhY2tncm91bmQ6ICd0cmFuc3BhcmVudCcsXG4gICAgICBhbGlnbjogW0FsaWduLnRvcCwgQWxpZ24uY2VudGVyXSxcbiAgICB9O1xuXG4gICAgZmlsZWxpbmsuYW5pbWF0ZShwYXJhbXMpO1xuICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKFxuICAgICAgJ2h0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tL0RFRkFVTFRfQVBJX0tFWS9hbmltYXRlPWxvb3A6MSxkZWxheToxMCx3aWR0aDoxMCxoZWlnaHQ6MTAsZml0OnNjYWxlLGJhY2tncm91bmQ6dHJhbnNwYXJlbnQsYWxpZ246W3RvcCxjZW50ZXJdLzVhWWtFUUpTUUNtWVNoc29DblpOJ1xuICAgICk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYmUgYWJsZSB0byByZXNpemUnLCAoKSA9PiB7XG4gICAgY29uc3QgcmVzaXplUGFyYW1zID0ge1xuICAgICAgd2lkdGg6IDIwMCxcbiAgICB9O1xuICAgIGZpbGVsaW5rLnJlc2l6ZShyZXNpemVQYXJhbXMpO1xuICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS9ERUZBVUxUX0FQSV9LRVkvcmVzaXplPXdpZHRoOjIwMC81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gY3JvcCcsICgpID0+IHtcbiAgICBmaWxlbGluay5jcm9wKHtcbiAgICAgIGRpbTogWzIwLCAyMCwgMjUwLCAyNTBdLFxuICAgIH0pO1xuICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS9ERUZBVUxUX0FQSV9LRVkvY3JvcD1kaW06WzIwLDIwLDI1MCwyNTBdLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYmUgYWJsZSB0byByb3RhdGUnLCAoKSA9PiB7XG4gICAgY29uc3Qgcm90YXRlUGFyYW1zID0ge1xuICAgICAgZGVnOiA5MCxcbiAgICB9O1xuICAgIGZpbGVsaW5rLnJvdGF0ZShyb3RhdGVQYXJhbXMpO1xuICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS9ERUZBVUxUX0FQSV9LRVkvcm90YXRlPWRlZzo5MC81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gZGV0ZWN0IGZhY2VzJywgKCkgPT4ge1xuICAgIGZpbGVsaW5rLmRldGVjdEZhY2VzKHt9KTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vREVGQVVMVF9BUElfS0VZL2RldGVjdF9mYWNlcy81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gY3JvcCBmYWNlcycsICgpID0+IHtcbiAgICBmaWxlbGluay5jcm9wRmFjZXMoe30pO1xuICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS9ERUZBVUxUX0FQSV9LRVkvY3JvcF9mYWNlcy81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gcGl4ZWxhdGUgZmFjZXMnLCAoKSA9PiB7XG4gICAgZmlsZWxpbmsucGl4ZWxhdGVGYWNlcyh7fSk7XG4gICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tL0RFRkFVTFRfQVBJX0tFWS9waXhlbGF0ZV9mYWNlcy81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gYmx1ciBmYWNlcycsICgpID0+IHtcbiAgICBjb25zdCBibHVyRmFjZXNQYXJhbXMgPSB7XG4gICAgICBhbW91bnQ6IDMsXG4gICAgICBibHVyOiA1LFxuICAgICAgdHlwZTogU2hhcGVUeXBlLm92YWwsXG4gICAgfTtcbiAgICBmaWxlbGluay5ibHVyRmFjZXMoYmx1ckZhY2VzUGFyYW1zKTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vREVGQVVMVF9BUElfS0VZL2JsdXJfZmFjZXM9YW1vdW50OjMsYmx1cjo1LHR5cGU6b3ZhbC81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gcm91bmQgY29ybmVybnMnLCAoKSA9PiB7XG4gICAgY29uc3Qgcm91bmRlZENvcm5lcnNQYXJhbXMgPSB7XG4gICAgICByYWRpdXM6IDUwLFxuICAgICAgYmx1cjogNSxcbiAgICB9O1xuICAgIGZpbGVsaW5rLnJvdW5kZWRDb3JuZXJzKHJvdW5kZWRDb3JuZXJzUGFyYW1zKTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vREVGQVVMVF9BUElfS0VZL3JvdW5kZWRfY29ybmVycz1yYWRpdXM6NTAsYmx1cjo1LzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYmUgYWJsZSB0byBwb2xhcm9pZCcsICgpID0+IHtcbiAgICBjb25zdCBwb2xhcm9pZFBhcmFtcyA9IHtcbiAgICAgIGNvbG9yOiAnZmYwMDAwJyxcbiAgICAgIHJvdGF0ZTogNTAsXG4gICAgfTtcbiAgICBmaWxlbGluay5wb2xhcm9pZChwb2xhcm9pZFBhcmFtcyk7XG4gICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tL0RFRkFVTFRfQVBJX0tFWS9wb2xhcm9pZD1jb2xvcjpmZjAwMDAscm90YXRlOjUwLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYmUgYWJsZSB0byB2aWduZXR0ZScsICgpID0+IHtcbiAgICBjb25zdCB2aWduZXR0ZVBhcmFtcyA9IHtcbiAgICAgIGJhY2tncm91bmQ6ICdmZjAwMDAnLFxuICAgICAgYW1vdW50OiA1LFxuICAgIH07XG4gICAgZmlsZWxpbmsudmlnbmV0dGUodmlnbmV0dGVQYXJhbXMpO1xuICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS9ERUZBVUxUX0FQSV9LRVkvdmlnbmV0dGU9YmFja2dyb3VuZDpmZjAwMDAsYW1vdW50OjUvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIHRvcm5FZGdlcycsICgpID0+IHtcbiAgICBmaWxlbGluay50b3JuRWRnZXMoe30pO1xuICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS9ERUZBVUxUX0FQSV9LRVkvdG9ybl9lZGdlcy81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gc2hhZG93JywgKCkgPT4ge1xuICAgIGZpbGVsaW5rLnNoYWRvdygpO1xuICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS9ERUZBVUxUX0FQSV9LRVkvc2hhZG93LzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYmUgYWJsZSB0byBjaXJjbGUnLCAoKSA9PiB7XG4gICAgZmlsZWxpbmsuY2lyY2xlKHt9KTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vREVGQVVMVF9BUElfS0VZL2NpcmNsZS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gYm9yZGVyJywgKCkgPT4ge1xuICAgIGZpbGVsaW5rLmJvcmRlcigpO1xuICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS9ERUZBVUxUX0FQSV9LRVkvYm9yZGVyLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYmUgYWJsZSB0byB2aWduZXR0ZScsICgpID0+IHtcbiAgICBmaWxlbGluay52aWduZXR0ZSh7fSk7XG4gICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tL0RFRkFVTFRfQVBJX0tFWS92aWduZXR0ZS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gc2hhcnBlbicsICgpID0+IHtcbiAgICBjb25zdCBzaGFycGVuUGFyYW1zID0ge1xuICAgICAgYW1vdW50OiA1LFxuICAgIH07XG4gICAgZmlsZWxpbmsuc2hhcnBlbihzaGFycGVuUGFyYW1zKTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vREVGQVVMVF9BUElfS0VZL3NoYXJwZW49YW1vdW50OjUvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGJsdXInLCAoKSA9PiB7XG4gICAgY29uc3QgYmx1clBhcmFtcyA9IHtcbiAgICAgIGFtb3VudDogNSxcbiAgICB9O1xuICAgIGZpbGVsaW5rLmJsdXIoYmx1clBhcmFtcyk7XG4gICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tL0RFRkFVTFRfQVBJX0tFWS9ibHVyPWFtb3VudDo1LzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYmUgYWJsZSB0byBibGFja3doaXRlJywgKCkgPT4ge1xuICAgIGNvbnN0IGJsYWNrd2hpdGVQYXJhbXMgPSB7XG4gICAgICB0aHJlc2hvbGQ6IDUwLFxuICAgIH07XG4gICAgZmlsZWxpbmsuYmxhY2t3aGl0ZShibGFja3doaXRlUGFyYW1zKTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vREVGQVVMVF9BUElfS0VZL2JsYWNrd2hpdGU9dGhyZXNob2xkOjUwLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYmUgYWJsZSB0byBzZXBpYScsICgpID0+IHtcbiAgICBmaWxlbGluay5zZXBpYSgpO1xuICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS9ERUZBVUxUX0FQSV9LRVkvc2VwaWEvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIHBpeGVsYXRlJywgKCkgPT4ge1xuICAgIGZpbGVsaW5rLnBpeGVsYXRlKCk7XG4gICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tL0RFRkFVTFRfQVBJX0tFWS9waXhlbGF0ZS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gb2lsUGFpbnQnLCAoKSA9PiB7XG4gICAgZmlsZWxpbmsub2lsUGFpbnQoKTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vREVGQVVMVF9BUElfS0VZL29pbF9wYWludC81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gbW9kdWxhdGUnLCAoKSA9PiB7XG4gICAgZmlsZWxpbmsubW9kdWxhdGUoKTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vREVGQVVMVF9BUElfS0VZL21vZHVsYXRlLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYmUgYWJsZSB0byBwYXJ0aWFsUGl4ZWxhdGUnLCAoKSA9PiB7XG4gICAgZmlsZWxpbmsucGFydGlhbFBpeGVsYXRlKHtcbiAgICAgIG9iamVjdHM6IFtbMjAsIDIwLCA1MCwgNTBdXSxcbiAgICB9KTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vREVGQVVMVF9BUElfS0VZL3BhcnRpYWxfcGl4ZWxhdGU9b2JqZWN0czpbWzIwLDIwLDUwLDUwXV0vNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIHBhcnRpYWxCbHVyJywgKCkgPT4ge1xuICAgIGZpbGVsaW5rLnBhcnRpYWxCbHVyKHtcbiAgICAgIGFtb3VudDogNSxcbiAgICAgIG9iamVjdHM6IFtbMjAsIDIwLCA1MCwgNTBdXSxcbiAgICB9KTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vREVGQVVMVF9BUElfS0VZL3BhcnRpYWxfYmx1cj1hbW91bnQ6NSxvYmplY3RzOltbMjAsMjAsNTAsNTBdXS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gY29sbGFnZScsICgpID0+IHtcbiAgICBmaWxlbGluay5jb2xsYWdlKHtcbiAgICAgIGZpbGVzOiBbJ2h0dHA6Ly93ZWxjb21lLXN3aXNzLmNvbS93cC1jb250ZW50L3VwbG9hZHMvMjAxNS8xMi9Td2lzcy1sYW5kc2NhcGUuanBnJ10sXG4gICAgICB3aWR0aDogMjAwLFxuICAgICAgaGVpZ2h0OiAyMDAsXG4gICAgfSk7XG5cbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZShcbiAgICAgICdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS9ERUZBVUxUX0FQSV9LRVkvY29sbGFnZT1maWxlczpbXCJodHRwOi8vd2VsY29tZS1zd2lzcy5jb20vd3AtY29udGVudC91cGxvYWRzLzIwMTUvMTIvU3dpc3MtbGFuZHNjYXBlLmpwZ1wiXSx3aWR0aDoyMDAsaGVpZ2h0OjIwMC81YVlrRVFKU1FDbVlTaHNvQ25aTidcbiAgICApO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gdXBzY2FsZScsICgpID0+IHtcbiAgICBmaWxlbGluay51cHNjYWxlKCk7XG4gICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tL0RFRkFVTFRfQVBJX0tFWS91cHNjYWxlLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYmUgYWJsZSB0byBhc2NpaScsICgpID0+IHtcbiAgICBmaWxlbGluay5hc2NpaSgpO1xuICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS9ERUZBVUxUX0FQSV9LRVkvYXNjaWkvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIHF1YWxpdHknLCAoKSA9PiB7XG4gICAgY29uc3QgcXVhbGl0eVBhcmFtcyA9IHtcbiAgICAgIHZhbHVlOiA1LFxuICAgIH07XG4gICAgZmlsZWxpbmsucXVhbGl0eShxdWFsaXR5UGFyYW1zKTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vREVGQVVMVF9BUElfS0VZL3F1YWxpdHk9dmFsdWU6NS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gdXNlIHNlY3VyaXR5JywgKCkgPT4ge1xuICAgIGNvbnN0IHNlY3VyaXR5UGFyYW1zID0ge1xuICAgICAgcG9saWN5OiAnZXhhbXBsZVBvbGljeScsXG4gICAgICBzaWduYXR1cmU6ICdleGFtcGxlU2lnbmF0dXJlJyxcbiAgICB9O1xuICAgIGZpbGVsaW5rLnNlY3VyaXR5KHNlY3VyaXR5UGFyYW1zKTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vREVGQVVMVF9BUElfS0VZL3NlY3VyaXR5PXBvbGljeTpleGFtcGxlUG9saWN5LHNpZ25hdHVyZTpleGFtcGxlU2lnbmF0dXJlLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYmUgYWJsZSBvdXRwdXQnLCAoKSA9PiB7XG4gICAgY29uc3Qgb3V0cHV0UGFyYW1zID0ge1xuICAgICAgZm9ybWF0OiAncG5nJyxcbiAgICB9O1xuICAgIGZpbGVsaW5rLm91dHB1dChvdXRwdXRQYXJhbXMpO1xuICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS9ERUZBVUxUX0FQSV9LRVkvb3V0cHV0PWZvcm1hdDpwbmcvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIHZpZGVvQ29udmVydCcsICgpID0+IHtcbiAgICBjb25zdCB2aWRlb0NvbnZlcnRQYXJhbXMgPSB7XG4gICAgICBhc3BlY3RfbW9kZTogVmlkZW9BY2Nlc3NNb2RlLmxldHRlcmJveCxcbiAgICAgIHVwc2NhbGU6IHRydWUsXG4gICAgfTtcbiAgICBmaWxlbGluay52aWRlb0NvbnZlcnQodmlkZW9Db252ZXJ0UGFyYW1zKTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vREVGQVVMVF9BUElfS0VZL3ZpZGVvX2NvbnZlcnQ9YXNwZWN0X21vZGU6bGV0dGVyYm94LHVwc2NhbGU6dHJ1ZS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gVVJMU2NyZWVuc2hvdCcsICgpID0+IHtcbiAgICBmaWxlbGluay5VUkxTY3JlZW5zaG90KCk7XG4gICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tL0RFRkFVTFRfQVBJX0tFWS91cmxzY3JlZW5zaG90LzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYmUgYWJsZSB0byBQREZJbmZvJywgKCkgPT4ge1xuICAgIGZpbGVsaW5rLlBERkluZm8oKTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vREVGQVVMVF9BUElfS0VZL3BkZmluZm8vNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIFBERkNvbnZlcnQnLCAoKSA9PiB7XG4gICAgZmlsZWxpbmsuUERGQ29udmVydCgpO1xuICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS9ERUZBVUxUX0FQSV9LRVkvcGRmY29udmVydC81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gZm9yY2UgY2FjaGUnLCAoKSA9PiB7XG4gICAgZmlsZWxpbmsuY2FjaGUodHJ1ZSk7XG4gICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tL0RFRkFVTFRfQVBJX0tFWS9jYWNoZS81YVlrRVFKU1FDbVlTaHNvQ25aTicpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gYWRkIGZhbGxiYWNrIHRyYW5zZm9ybWF0aW9uJywgKCkgPT4ge1xuICAgIGZpbGVsaW5rLmZhbGxiYWNrKHtcbiAgICAgIGhhbmRsZTogJ2h0dHA6dGVzdC5jb20nLFxuICAgIH0pO1xuICAgIGV4cGVjdChmaWxlbGluay50b1N0cmluZygpKS50b0JlKCdodHRwczovL2Nkbi5maWxlc3RhY2tjb250ZW50LmNvbS9ERUZBVUxUX0FQSV9LRVkvZmFsbGJhY2s9aGFuZGxlOmh0dHA6dGVzdC5jb20vNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGFkZCB6aXAgdHJuYXNmb3JtYXRpb24nLCAoKSA9PiB7XG4gICAgZmlsZWxpbmsuemlwKCk7XG4gICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tL0RFRkFVTFRfQVBJX0tFWS96aXAvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGFkZCBtaW5pZnkganMgdHJhbnNmb3JtYXRpb24nLCAoKSA9PiB7XG4gICAgZmlsZWxpbmsubWluaWZ5SnMoe1xuICAgICAgbWFuZ2xlOiB0cnVlLFxuICAgICAgZ3ppcDogdHJ1ZSxcbiAgICB9KTtcbiAgICBleHBlY3QoZmlsZWxpbmsudG9TdHJpbmcoKSkudG9CZSgnaHR0cHM6Ly9jZG4uZmlsZXN0YWNrY29udGVudC5jb20vREVGQVVMVF9BUElfS0VZL21pbmlmeV9qcz1tYW5nbGU6dHJ1ZSxnemlwOnRydWUvNWFZa0VRSlNRQ21ZU2hzb0NuWk4nKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGFkZCBtaW5pZnkgY3NzIHRyYW5zZm9ybWF0aW9uJywgKCkgPT4ge1xuICAgIGZpbGVsaW5rLm1pbmlmeUNzcyh7XG4gICAgICBsZXZlbDogMSxcbiAgICAgIGd6aXA6IHRydWUsXG4gICAgfSk7XG4gICAgZXhwZWN0KGZpbGVsaW5rLnRvU3RyaW5nKCkpLnRvQmUoJ2h0dHBzOi8vY2RuLmZpbGVzdGFja2NvbnRlbnQuY29tL0RFRkFVTFRfQVBJX0tFWS9taW5pZnlfY3NzPWxldmVsOjEsZ3ppcDp0cnVlLzVhWWtFUUpTUUNtWVNoc29DblpOJyk7XG4gIH0pO1xufSk7XG4iXX0=
