"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getValidator = void 0;
/*
 * Copyright (c) 2018 by Filestack.
 * Some rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var jsonschema_1 = require("jsonschema");
var definitions_schema_1 = require("./definitions.schema");
var v = new jsonschema_1.Validator();
jsonschema_1.Validator.prototype.customFormats.callback = function (input) { return typeof input === 'function'; };
// check if element have HTML in to string method ie HTMLDivElement
jsonschema_1.Validator.prototype.customFormats.HTMLContainer = function (input) { return typeof input === 'string' || (input.toString && input.toString().indexOf('HTML') > -1); };
/**
 * Returns validator instance
 */
var getValidator = function (schema) {
    return function (params) {
        v.addSchema(definitions_schema_1.DefinitionsSchema);
        return v.validate(params, schema);
    };
};
exports.getValidator = getValidator;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zY2hlbWEvdmFsaWRhdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7R0FlRztBQUNILHlDQUF1QztBQUN2QywyREFBeUQ7QUFFekQsSUFBTSxDQUFDLEdBQUcsSUFBSSxzQkFBUyxFQUFFLENBQUM7QUFFMUIsc0JBQVMsQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLFFBQVEsR0FBRyxVQUFDLEtBQUssSUFBSyxPQUFBLE9BQU8sS0FBSyxLQUFLLFVBQVUsRUFBM0IsQ0FBMkIsQ0FBQztBQUNwRixtRUFBbUU7QUFDbkUsc0JBQVMsQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLGFBQWEsR0FBRyxVQUFDLEtBQUssSUFBSyxPQUFBLE9BQU8sS0FBSyxLQUFLLFFBQVEsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLElBQUksS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUF0RixDQUFzRixDQUFDO0FBRXBKOztHQUVHO0FBQ0ksSUFBTSxZQUFZLEdBQUcsVUFBQyxNQUFNO0lBQ2pDLE9BQU8sVUFBQyxNQUFNO1FBQ1osQ0FBQyxDQUFDLFNBQVMsQ0FBQyxzQ0FBaUIsQ0FBQyxDQUFDO1FBQy9CLE9BQU8sQ0FBQyxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDcEMsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBTFcsUUFBQSxZQUFZLGdCQUt2QiIsImZpbGUiOiJzY2hlbWEvdmFsaWRhdG9yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCAoYykgMjAxOCBieSBGaWxlc3RhY2suXG4gKiBTb21lIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IFZhbGlkYXRvciB9IGZyb20gJ2pzb25zY2hlbWEnO1xuaW1wb3J0IHsgRGVmaW5pdGlvbnNTY2hlbWEgfSBmcm9tICcuL2RlZmluaXRpb25zLnNjaGVtYSc7XG5cbmNvbnN0IHYgPSBuZXcgVmFsaWRhdG9yKCk7XG5cblZhbGlkYXRvci5wcm90b3R5cGUuY3VzdG9tRm9ybWF0cy5jYWxsYmFjayA9IChpbnB1dCkgPT4gdHlwZW9mIGlucHV0ID09PSAnZnVuY3Rpb24nO1xuLy8gY2hlY2sgaWYgZWxlbWVudCBoYXZlIEhUTUwgaW4gdG8gc3RyaW5nIG1ldGhvZCBpZSBIVE1MRGl2RWxlbWVudFxuVmFsaWRhdG9yLnByb3RvdHlwZS5jdXN0b21Gb3JtYXRzLkhUTUxDb250YWluZXIgPSAoaW5wdXQpID0+IHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycgfHwgKGlucHV0LnRvU3RyaW5nICYmIGlucHV0LnRvU3RyaW5nKCkuaW5kZXhPZignSFRNTCcpID4gLTEpO1xuXG4vKipcbiAqIFJldHVybnMgdmFsaWRhdG9yIGluc3RhbmNlXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRWYWxpZGF0b3IgPSAoc2NoZW1hKSA9PiB7XG4gIHJldHVybiAocGFyYW1zKSA9PiB7XG4gICAgdi5hZGRTY2hlbWEoRGVmaW5pdGlvbnNTY2hlbWEpO1xuICAgIHJldHVybiB2LnZhbGlkYXRlKHBhcmFtcywgc2NoZW1hKTtcbiAgfTtcbn07XG4iXX0=
